:root {
    --cream: #FFF9EB;
    --red: #D32F2F;
    --gold: #D4AF37;
    --pink: #F8BBD0;
    --yellow: #FFF9C4;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Montserrat', sans-serif; overflow: hidden; }

.scene {
    position: absolute; inset: 0; display: none;
    flex-direction: column; align-items: center; justify-content: center;
    text-align: center;
}
.scene.active { display: flex; }
.light-bg { background-color: var(--cream); color: #333; }
.dark-mode { background-color: #050515; color: white; }

/* Scene 1: Rocket & Intro */
#star-canvas, #firework-canvas { position: absolute; inset: 0; }
.year-title { font-size: 5rem; font-family: 'Dancing Script'; color: var(--gold); }
.hidden { opacity: 0; transition: 1.5s; }
.visible { opacity: 1; }

/* Scene 2: Envelope */
.envelope-container { perspective: 1000px; }
.envelope {
    width: 300px; height: 200px; background: var(--red);
    position: relative; transition: 1s;
}
.flap {
    position: absolute; top: 0; width: 0; height: 0;
    border-left: 150px solid transparent; border-right: 150px solid transparent;
    border-top: 100px solid #B71C1C; z-index: 3; transition: 1s;
    transform-origin: top;
}
.active .flap { transform: rotateX(180deg); }
.letter {
    position: absolute; bottom: 0; left: 10px; width: 280px; height: 180px;
    background: white; z-index: 2; padding: 15px; transition: 1s;
}
.active .letter { transform: translateY(-120px); height: 250px; }

/* Scene 4: Cassettes */
.cassette {
    width: 320px; background: var(--red); padding: 15px;
    border-radius: 10px; margin: 10px; cursor: pointer; color: white;
}
.cassette.pink { background: #AD1457; }
.cassette-label {
    background: #eee; height: 60px; border-radius: 5px;
    display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
}
.spool { width: 30px; height: 30px; border: 4px solid #333; border-radius: 50%; }
.wave-container { width: 150px; height: 40px; }

/* Scene 6: Loading */
.progress-bar { width: 250px; height: 10px; background: #ddd; border-radius: 5px; overflow: hidden; }
.progress-fill { width: 0%; height: 100%; background: var(--gold); }

/* Scene 8: Typing */
#typing-text { font-size: 1.2rem; color: #555; max-width: 80%; margin: 20px auto; }

.nav-btn {
    background: var(--red); color: white; border: none;
    padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold;
}
